<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Tips for better asset handling in your iOS app - Steffen D. Sommer</title>
    <meta name="description" content="An iOS developer blogging about topics such as ReactiveCocoa, MVVM, dependency injection, unit testing, autolayout, Swift and more.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://www.steffendsommer.com/blog/2015/04/05/tips-for-better-asset-handling-in-your-ios-app/">

    <link rel="stylesheet" href="/css/github.css">
    <script src="/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
    <script src="/js/responsiveslides.min.js"></script>
    <script>
      $(function() {
        $(".rslides").responsiveSlides({
          auto: false,
          pager: true
        });
      });
    </script>

    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-9242573-9', 'auto');
      ga('send', 'pageview');

    </script>
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <div class="logo-wrapper">
      <img src="/assets/logo.png" width="100" height="100">
    </div>

      <p class="site-title">Steffen D. Sommer</p>

    <div class="site-nav">
      
      
      
        
      
        
      
        
      
        
        <a class="page-link active" href="/">Blog</a>
        
      
        
        <a class="page-link" href="/projects/">Projects</a>
        
      
        
        <a class="page-link" href="/about/">About</a>
        
      
    </div>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">Tips for better asset handling in your iOS app</h1>
    <p class="post-meta">Apr 5, 2015</p>
  </header>

  <article class="post-content">
    <h1 id="let-xcode-generate-1x-2x-and-3x-pngs">1. Let Xcode generate 1x, 2x and 3x PNG’s</h1>
<p>With the launch of Xcode 6, Apple provided a way for us to store assets as PDF files. Xcode will then handle the creation of 1x, 2x and 3x PNG files at build time. Convenient, but may not always be the best solution depending on your assets (as <a href="http://bjango.com/articles/idontusepdfs/" target="_blank">highlighted here</a>). The recent apps I’ve worked on had really simple assets without any shadows or gradients, and PDF files worked as a charm. Martin Craft has a <a href="http://martiancraft.com/blog/2014/09/vector-images-xcode6/" target="_blank">fine description</a> on how to get your started with PDF files in Xcode.</p>

<h1 id="color-your-own-assets">2. Color your own assets</h1>
<p>Sometimes as a developer, you’re given the entire design for the app you’re making. This is often not the case. Things change, such as design, placement of elements, colours and icons. That’s why I started experimenting with colouring all of my assets in code. This means time saved on the UX/graphics guy and an increase of flexibility in your app.</p>

<p>Of course, all assets are not equally easy to color and some may not be appropriate for programatically being coloured at all. As mentioned, the last apps I’ve been working on had really simple “flat-ish” design, with no gradients or shadows. In this case, this approach worked really good.</p>

<p>For colouring assets, you might want to bring in an external library such as UIImage+Additions, if you’re going to need all of that functionality. You could also just make your own small colouring method. Here is something to get you started:</p>

<pre><code class="language-objc">- (UIImage *)colorImage:(UIImage *)image color:(UIColor *)color
{
    UIGraphicsBeginImageContextWithOptions(image.size, NO, [UIScreen mainScreen].scale);
    CGContextRef context = UIGraphicsGetCurrentContext();

    CGContextTranslateCTM(context, 0, image.size.height);
    CGContextScaleCTM(context, 1.0, -1.0);
    CGRect rect = CGRectMake(0, 0, image.size.width, image.size.height);

    CGContextSetBlendMode(context, kCGBlendModeNormal);
    CGContextDrawImage(context, rect, image.CGImage);
    CGContextSetBlendMode(context, kCGBlendModeSourceIn);
    [color setFill];
    CGContextFillRect(context, rect);


    UIImage *coloredImage = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();

    return coloredImage;
}
</code></pre>

<p>This code will make a simple image asset go from:</p>

<p><img src="/assets/posts/1428243313539.png" alt="Alt text" height="50px" width="50px" /></p>

<p>to:</p>

<p><img src="/assets/posts/1428243326767.png" width="50" height="50" /></p>

<p>Pretty simple, right? This will also make your app ready for skinning if that is what you want. If you have assets that contains multiple colours or gradients, you might want to look into tinting properties. Have a look at this SO answer for an example of tinting with UIImageView.</p>

<h1 id="make-a-facade-for-your-assets">3. Make a facade for your assets</h1>
<p>I like my code to be strict, in the sense that I want to guide any consumer of my code in the best way I can. One way of making my assets more strict is to make a facade for them. One way to do this, is to make a category on UIImage. Your category can then expose any assets that are allowed to be used throughout your code base. An example could be:</p>

<pre><code class="language-objc">+ (instancetype)img_successIcon {
    return [self colorImage:[UIImage imageNamed:@"thumbsup"] color:[UIColor greenColor]];
}
</code></pre>

<p>Having the facade also centralises the list of assets for your app. This means that if your code uses this category, you only have to update paths to assets in one place. Naming your assets in general terms that makes sense for your app, also contributes to having a more flexible code base. Lastly, the facade can hide away any colouring of the assets.</p>

<p>Feel free to get in touch if you have any questions or feedback. As always, I’m interested to improve the way I work.</p>

  </article>

  <div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES * * */
    var disqus_shortname = 'steffendsommer';
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <hr>
    <p class="text">An iOS developer blogging about topics such as ReactiveCocoa, MVVM, dependency injection, unit testing, autolayout, Swift and more.</p>
    <p><a href="https://github.com/s0mmer" target="_blank">GitHub</a> • <a href="http://stackoverflow.com/users/4145708/steffen-d-sommer?tab=profile" target="_blank">Stack Overflow</a> • <a href="https://twitter.com/steffendsommer" target="_blank">Twitter</a> • <a href="http://dk.linkedin.com/pub/steffen-d-sommer/21/8b0/726/" target="_blank">LinkedIn</a> • <a href="mailto:steffendsommer@icloud.com" target="_blank">Email</a></p>
  </div>

</footer>


  </body>

</html>
